# 国内用户访问方案

## Cloudflare R2 在中国的问题

### ⚠️ 潜在问题

1. **默认域名可能被限制**：
   - Cloudflare R2 的默认域名（`*.r2.cloudflarestorage.com`）在中国可能：
     - 访问速度慢
     - 偶尔无法访问
     - 需要 VPN 才能正常打开

2. **CDN 加速可能受限**：
   - Cloudflare 的 CDN 在中国境内效果可能不如国外

## 解决方案

### 方案 1：使用自定义域名（推荐）

Cloudflare R2 **支持自定义域名**，这是最佳解决方案：

#### 优势：
- ✅ 使用您自己的域名（如：`pdfs.yourdomain.com`）
- ✅ 在中国访问正常
- ✅ 不需要 VPN
- ✅ 访问速度快

#### 配置步骤：
1. 在 Cloudflare R2 存储桶设置中，添加自定义域名
2. 在您的域名 DNS 中添加 CNAME 记录
3. 使用自定义域名作为公开访问 URL

### 方案 2：使用国内对象存储服务

如果 Cloudflare R2 访问有问题，可以使用国内的对象存储：

#### 选项 A：七牛云（推荐国内用户）

**免费额度**：
- 10GB 存储空间
- 10GB/月 下载流量
- 完全免费，无需信用卡

**优势**：
- ✅ 国内访问速度快
- ✅ 不需要 VPN
- ✅ 免费额度足够使用
- ✅ 提供永久链接

**注册**：https://www.qiniu.com/

#### 选项 B：阿里云 OSS

**免费额度**：
- 5GB 存储空间
- 5GB/月 下载流量
- 需要实名认证

#### 选项 C：腾讯云 COS

**免费额度**：
- 50GB 存储空间（6个月）
- 10GB/月 下载流量
- 需要实名认证

### 方案 3：使用 GitHub + CDN（备选）

如果 PDF 文件不多（< 68 个），可以继续使用 GitHub：
- ✅ 在中国访问正常
- ✅ 不需要 VPN
- ⚠️ 但受 1GB 限制

## 推荐方案对比

| 方案 | 国内访问 | 免费额度 | 推荐度 |
|------|---------|---------|--------|
| **Cloudflare R2 + 自定义域名** | ✅ 正常 | 10GB | ⭐⭐⭐⭐⭐ |
| **七牛云** | ✅ 正常 | 10GB | ⭐⭐⭐⭐⭐ |
| **Cloudflare R2（默认域名）** | ⚠️ 可能慢 | 10GB | ⭐⭐⭐ |
| **GitHub** | ✅ 正常 | 1GB | ⭐⭐ |

## 我的建议

### 如果您的用户主要在中国：

**首选：七牛云**
- 国内访问速度快
- 免费额度足够（10GB）
- 配置简单
- 不需要 VPN

**备选：Cloudflare R2 + 自定义域名**
- 如果您有自己的域名
- 可以配置自定义域名解决访问问题

### 如果您的用户遍布全球：

**首选：Cloudflare R2 + 自定义域名**
- 全球 CDN 加速
- 国内通过自定义域名访问
- 国外访问也快

## 实施建议

我可以修改代码，支持：
1. ✅ Cloudflare R2（已支持）
2. ✅ 七牛云（可以添加）
3. ✅ 阿里云 OSS（可以添加）
4. ✅ 腾讯云 COS（可以添加）

您可以选择最适合的方案，我可以帮您实现。

## 快速测试

在决定使用哪个方案之前，您可以：

1. **测试 Cloudflare R2 默认域名**：
   - 访问一个 R2 文件的链接
   - 看是否能正常打开
   - 如果慢或打不开，考虑其他方案

2. **测试七牛云**：
   - 注册七牛云账户
   - 上传一个测试文件
   - 看访问速度如何

## 总结

- ❌ **Cloudflare R2 默认域名**：在中国可能访问慢或需要 VPN
- ✅ **Cloudflare R2 + 自定义域名**：在中国访问正常
- ✅ **七牛云**：在中国访问速度快，推荐国内用户
- ✅ **GitHub**：在中国访问正常，但受 1GB 限制

**建议**：如果用户主要在中国，优先考虑**七牛云**或**Cloudflare R2 + 自定义域名**。

