# 网站部署详细步骤指南

## 目标：将网站部署为公开网站，任何人都可以访问

---

## 第一步：准备 GitHub 仓库

### 1.1 创建 GitHub 账号（如果还没有）

1. 访问 https://github.com
2. 点击 "Sign up" 注册账号
3. 完成邮箱验证

### 1.2 在 GitHub 上创建新仓库

1. 登录 GitHub
2. 点击右上角的 "+" 号，选择 "New repository"
3. 填写仓库信息：
   - Repository name: `survival-skills`（或您喜欢的名字）
   - Description: `生存技能学习网站`（可选）
   - 选择 **Public**（公开仓库）
   - **不要**勾选 "Initialize this repository with a README"
4. 点击 "Create repository"

### 1.3 将本地代码推送到 GitHub

在项目文件夹中打开命令行（或 PowerShell），执行以下命令：

```bash
# 初始化 Git 仓库（如果还没有）
git init

# 添加所有文件
git add .

# 提交代码
git commit -m "Initial commit: 生存技能网站"

# 将分支重命名为 main（如果需要）
git branch -M main

# 添加远程仓库（替换为您的 GitHub 用户名和仓库名）
git remote add origin https://github.com/您的用户名/您的仓库名.git

# 推送到 GitHub
git push -u origin main
```

**注意**：如果这是第一次使用 Git，可能需要先配置：
```bash
git config --global user.name "您的名字"
git config --global user.email "您的邮箱"
```

---

## 第二步：部署到 Vercel

### 2.1 注册 Vercel 账号

1. 访问 https://vercel.com
2. 点击 "Sign Up"
3. 选择 "Continue with GitHub"（使用 GitHub 账号登录，最简单）

### 2.2 导入项目

1. 登录 Vercel 后，点击 "Add New Project"
2. 在 "Import Git Repository" 中，选择您刚才创建的 GitHub 仓库
3. 点击 "Import"

### 2.3 配置项目

Vercel 会自动检测到这是 Next.js 项目，通常不需要修改配置：

- **Framework Preset**: Next.js（自动检测）
- **Root Directory**: `./`（默认）
- **Build Command**: `npm run build`（默认）
- **Output Directory**: `.next`（默认）
- **Install Command**: `npm install`（默认）

**直接点击 "Deploy" 按钮**

### 2.4 等待部署完成

- 部署过程大约需要 1-3 分钟
- 您可以看到构建日志
- 部署完成后会显示 "Congratulations! Your project has been deployed."

---

## 第三步：配置环境变量（重要！）

### 3.1 进入项目设置

1. 在 Vercel 项目页面，点击 "Settings"
2. 在左侧菜单选择 "Environment Variables"

### 3.2 添加管理员密码

1. 在 "Key" 输入框输入：`ADMIN_PASSWORD`
2. 在 "Value" 输入框输入：您的管理员密码（例如：`MySecurePassword123!`）
3. 选择环境：**Production, Preview, Development**（全部勾选）
4. 点击 "Save"
5. **重要**：添加环境变量后，需要重新部署才能生效

### 3.3 重新部署

1. 点击项目页面的 "Deployments" 标签
2. 找到最新的部署记录
3. 点击右侧的 "..." 菜单
4. 选择 "Redeploy"
5. 确认重新部署

---

## 第四步：访问您的网站

### 4.1 获取网站地址

部署完成后，Vercel 会提供一个免费域名：

- 格式：`您的项目名.vercel.app`
- 例如：`survival-skills.vercel.app`

### 4.2 测试访问

1. 在浏览器中打开您的网站地址
2. 测试所有功能：
   - 查看文章列表
   - 搜索功能
   - 点击"管理"菜单
   - 输入密码登录
   - 上传文章或 PDF

---

## 第五步：后续更新网站

### 5.1 更新内容

1. 在本地修改代码或内容
2. 提交到 GitHub：
   ```bash
   git add .
   git commit -m "更新内容描述"
   git push
   ```
3. Vercel 会自动检测到更新并重新部署（通常 1-2 分钟）

### 5.2 手动触发部署

如果需要手动触发：
1. 在 Vercel 项目页面
2. 点击 "Deployments"
3. 点击 "Redeploy"

---

## 常见问题

### Q: 部署失败怎么办？

A: 
1. 检查构建日志中的错误信息
2. 确保所有依赖都已安装（`npm install`）
3. 检查环境变量是否正确设置

### Q: 如何绑定自定义域名？

A:
1. 在 Vercel 项目设置中选择 "Domains"
2. 输入您的域名
3. 按照提示配置 DNS 记录

### Q: PDF 文件上传后在哪里？

A:
- 上传的文件保存在 `public/pdfs/` 目录
- 可以通过 `/pdfs/文件名.pdf` 访问
- **注意**：Vercel 重新部署时，上传的文件可能会丢失
- 建议将重要 PDF 文件提交到 Git 仓库

### Q: 如何修改管理员密码？

A:
1. 在 Vercel 项目设置中修改 `ADMIN_PASSWORD` 环境变量
2. 重新部署项目

---

## 完成！

现在您的网站已经公开，任何人都可以通过您获得的 Vercel 域名访问！

**安全提示**：
- 确保设置了强密码
- 不要将 `.env.local` 文件提交到 Git
- 定期更新管理员密码


